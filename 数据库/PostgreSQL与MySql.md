# 索引
都是B+树。
Postgres所有索引都是二级索引，数据不存放在树里面，而是存放在堆表的单独空间里面，索引的叶子节点都是指向堆表的指针。
主键索引本质也是二级索引，索引和数据分离。插入数据直接加到堆表末尾，避免随机写入带来的数据页的分裂。
Postgres实现了GIN索引（通用倒排索引），建立了从值到行的反向映射，但是mysql不支持。
Postgres实现了GIST（通用搜索树），适合非线性数据进行是否有重叠和距离远近的查询，内部也是平衡树，节点存储的不是具体的值，而是范围。mysql不支持GIST索引，也没有日期范围的数据类型。
Postgres实现了部分索引，方便逻辑删除并因为只管理负责条件的行，减小磁盘占用，提高查询速度。mysql不支持部分索引。
# 数据一致性
Postgre内部，所有数据库结构的信息都存储在特殊的数据库表里面，使用DDL对表结构进行操作也相当于对数据库进行操作，可以直接进行事务管理，方便回滚，保证数据一致性，mysql不支持。
Postgre实现可延迟约束：只有事务提交的时候，才会对这个约束进行检查，mysql不支持。
Postgre的默认隔离级别是读已提交。
mysql默认隔离级别是可重复读，解决了大部分幻读问题，并且在一个事务里面读写区别对待，select读取的是事务开始时候的快照，update是不读取快照，而是读取当前的内容。并且有间隙锁的问题，在高并发场景下会性能退化。
# 性能
Postgre性能比mysql好
# 拓展性
![[Pasted image 20250913122249.png]]
