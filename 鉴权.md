# 1. JWT
[JSON Web Token 简介 - jwt.io](https://jwt.io/introduction)
[jwt 软件包 - github.com/golang-jwt/jwt/v5 - Go 软件包](https://pkg.go.dev/github.com/golang-jwt/jwt/v5#section-readme)
# 2. Cookie
### 2.1 Cookie原理
Cookie 是存放在客户端的。第一次访问时，服务器端查找请求头，没有cookie的信息，服务端就会向客户端发送一个cookie；后续的每一次请求中都会带上cookie信息。
从浏览器端到服务器端，cookie是以请求头的方式传递；从服务器端到浏览器端，cookie是以响应头的方式来传递的。
Cookie是通过服务器发送一个HTTP响应头来创建的，其中包含了一个名为Set-Cookie的响应头字段。当浏览器接收到这个响应后，会将Cookie保存起来，下次发送请求时会附带在HTTP头部中的Cookie字段中发送给服务器。
任何一个cookie，都是有效期，默认情况下：浏览器关闭时，就失效。但是这个有效期可以设置，设置时间后，即使关闭了浏览器之后，只要没超过时间，再打开浏览器，这个cookie仍是有效的。
### 2.2 Cookie鉴权优缺点
优点：
- 实现简单：Cookie机制实现简单，只需要服务器端向客户端发送Set-Cookie即可完成鉴权，不需要过多的复杂设置。
- 信息存储方便：Cookie可以将用户信息等存储在客户端，使得可以跨页面访问，比较方便。
缺点：
- 安全性差：Cookie机制信息存储在本地，如果被恶意获取，有可能导致信息泄露或者非法使用。
- 可伪造性高：Cookie是根据服务器端的响应生成的，但是这些响应可以被篡改，从而导致Cookie被伪造，从而导致鉴权失效。
# 3. Session鉴权
### 3.1 Session原理
Session是将数据保存在服务器端的一种会话技术。Session机制是在Cookie的基础上实现的，服务器会生成一个唯一的Session ID，并将这个ID存储在Cookie中发送给客户端。当客户端发送请求时，服务器会验证这个Session ID是否有效，如果有效，则允许访问资源。
Session默认的有效期就是当前会话结束（浏览器关闭）。  session是基于cookie的，session的有效期其实就是cookie的有效期。
![[Pasted image 20250625162056.png]]
session类似于一个Map，里面可以存放多个键值对，是以key-value进行存放的。key必须是一个字符串，value是一个对象。
session是每一个游览器(客户端)所唯一的。其实，在访问一个网站时，在HTTP请求中往往会携带一个cookie，这个cookie的名字是JSESSIONID，这个JSESSIONID表示的就是session的id，这个是由服务器创建的，并且是唯一的。服务器在使用session时，会根据JSESSIONID来进行不同操作。
![[Pasted image 20250625162139.png]]

### 3.2 Session鉴权优缺点
优点：
- 安全性较高：Session机制可以避免Cookie伪造带来的安全问题，对于非法用户访问也可以做出相应的控制。
- 可靠性高: 服务器端存储Session数据，保证了Session数据的可靠性，避免了Cookie被篡改带来的问题。
缺点：
- 维护负担大：由于Session存储在服务器端，需要服务器端定期清理过期的Session数据，从而增加了服务器的负担。
- 扩展性差：在分布式系统中，Session机制需要额外的处理来确保多台服务器之间的Session共享，从而降低了扩展性。
